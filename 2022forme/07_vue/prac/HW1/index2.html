<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</head>
<body>
    <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
        <a href="/index.html" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
          <span class="fs-4">&nbsp 영화관리</span>
        </a>
  
        <ul class="nav nav-pills">
          <li class="nav-item"><a href="/create.html" class="nav-link" >영화등록</a></li>
          <li class="nav-item"><a href="/list.html" class="nav-link">영화목록</a></li>
        </ul>
      </header>

    <div class="container" id = "app">
        
        <div class="text-center mb-4">
            <img v-bind:src="src" width="400" height="300">
        </div>

        <div  class="text-center fs-1 fw-bold mb-4">
            {{ welcomeMsg }}
        </div>
        
        <div  class = "mb-4">
            <input type="text" class = "w-100" v-model="input" >
        </div>

        <hr>
        <h3>검색 결과</h3>
        <div class="mb-4">
            <!-- 영화 제목 들을 돌면서 input이랑 맞으면 크어엇!-->
            <p v-if="inTitle()">kkk</p>
            <p v-else>검색 결과 X</p>
        </div>
    </div>

    <script>
        // 객체 정보 이름 : movieData라고 하자
        let movieData = [];
        movieData = JSON.parse(localStorage.getItem('movieData'));
        if( movieData === null){
            movieData = 
            [
                {ID : 1, title : '기생충', director : '봉준호', genre : '스릴러', runningTime : 152},
                {ID : 2, title : '이터널스', director : '클로이자오', genre : '액션', runningTime : 161},
                {ID : 3, title : '해리포터와 마법사의 돌', director : '크리스 콜럼버스', genre : '판타지', runningTime : 141}
            ];

            localStorage.setItem('movieData', JSON.stringify(movieData))
        };
        
        

        new Vue({
            el : '#app',
            data(){
                return{
                    // 사진
                    src : "/img/sq2.jpg",
                     // 환영 메세지 보간법
                    welcomeMsg : "is the 영 화 정 보 관 리",
                    input : "영화 제목을 입력하세요",
                    datas : movieData,
                    seek : true
                }
            },
            methods : {
                inTitle : function(input){
                    console.log(movieData)
                    // for( movie in movies){
                    //     console.log(movie.title);
                        // if(movie.title.includes(input)){
                        //     seen = true;
                        //     return movie.title;
                        // }
                    // }
                    return null;
                },
                findTitle(){
                    return this.inTitle(this.input);
                }

                
            }
        })


    </script>

</body>
</html>
