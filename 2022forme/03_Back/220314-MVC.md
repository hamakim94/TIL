# 22.03.14

## MVC Pattern(Model-View-Controller)

### model 1.

- JSP페이지에서 모든 요청을 처리하고 로직을 구현하여 응답을 만들어내는 구조. 자바빈 또는 서비스 클래스를 이용해 요청을 처리하고 응답을 반환한다
- JSP 페이지 내에 화면을 출력하는 HTML코드와 로직을 수행하는 자바 코드가 함께 존재
- 구조가 직관적, 단순해 진입장벽이 낮다
- 개발 시간이 짧다
- 프로젝트 규모가 커질 수록 유지 보수 및 코드 재활용이 어려워진다.

---

### model 2. (MVC)

- 요청 처리는 서블릿에서, 응답화면은 JSP에서 처리하는 구조. 요청 처리, 로직 구현, 화면출력을 따로 처리하는 구조
- 로직과 화면구성 코드가 분리돼있기 때문에 유지 보수 및 코드 수정이 쉽다
- 분업에 유리하고 확장성이 높아 대단위 프로젝트에 유리하다
- 복잡한 구조때문에 진입장벽이 높다
- 간단한 기능 구현에도 모든 구성요소를 만들어야 하기 때문에 초기 개발비용이 증가한다.

----

AJAX 잘 못함

---

| 영역                 | 설명                                                         |
| -------------------- | ------------------------------------------------------------ |
| 모델(Model)          | data를 저장, 필요한 형태로 가공(DAO, DTO, Service)           |
| 뷰(View)             | 사용자에게 응답하기 위해서 화면을 작성하느 ㄴ역할 수행       |
| 컨트롤러(Controller) | 뷰와 모델 사이의 실행 흐름을 제어하는 역할 수행. 클라이언트로부터 요청을 받아서 이를 분석하고 어떤 비즈니스 로직을 수행할지 겨ㅛㄹ정한다. 이후 로직을 보여주기 위한 view를 선택한다 |

###  MVC 흐름

- 클라이언트 요청,  Controller 서블릿이 요청을 받는다
- 요청에 따라 어떤 비즈니스 로직을 수행할지 결정한다
- 비즈니스 로직을 담당하는 객체는 로직을 수행하고, 필요하다면 DB에 접근한다
- DB에 데이터를 쓰거나 읽어올 때는 DAO를 사용한다
- 비즈니스 로직 객체가 작업을 완료하면 결과를 controller에 돌려준다
- Controller는 결과를 작성하기 위해 view를 선택하고 데이터를 전달한다
- view는 결과를 작성하고 응답한다

---

앞으로 생각해봐야할 것들

로그인이 됐어 -> 세션에 정보를 저장해

리뷰를 작성할 때, 그 세션에 있는 id, pw를 갖고 리뷰에 뜨게!

시간을 자동으로 작성하도록

Forward방식으로 하면, 새로고침 할 때 마다 리뷰가 다시 생김.

- 리다이렉트 방식을 쓰면 좋을지도.