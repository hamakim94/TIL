# 22/05/17, 7장, 웹을 안전하게 지켜주는 HTTPS

## 7.1 HTTP의 약점

### is the **3대장**

1. **평문(암호화 하지 않은)** 통신이기 때문에 **도청 가능**
2. **통신 상대를 확인하지 않기** 때문에 **위장 가능**
3. **완전성을 증명할 수 없**기 때문에 변조 가능

+ 취약성,시큐리티 홀(특정 서버, 웹 클라이언트 구현상의 약점)
+ Java나 PHP 등으로 구축한 웹 애플리케이션 취약성

---

### 7.1.1 평문이기 때문에 도청 가능

- #### TCP/IP는 도청 가능한 네트워크

  - 전부 통신 경로 도중에 엿볼 수 있음.
  - 암호화돼도 마찬가지
  - 네트워크 상을 흐르고 있는 패킷을 수집하는 것 만으로도 도청 가능!
    - 패킷 캡처(Wireshark), 스니퍼라는 툴 사용

- #### 암호화로 도청을 피하다

  - is the **암호화** => 보급, classic, 성공적

  - ##### 1) 통신 암호화

    - SSL(Secure Socket Layer)나 TLS(Transport Layer Security), 다른 프로토콜과 조합
    - SSL 등을 이용해 **안전한 통신로를 확립**하고 HTTP 통신을 한다 
      - IS THE **HTTPS(HTTP Secure)**, HTTP over SSL

  - ##### 2) 콘텐츠 암호화

    - 콘텐츠의 내용 자체를 암호화해버리기!
    - 이 경우, HTTP 메시지를 암호화해서 출력하는 처리가 필요함(메시지 바디만 암호화!)
    - 가능하려면?
      - 클라이언트 서버 모두 암호화와 복호화 구조를 가지고 있어야함
      - 평상시 유저가 사용하는것은 어렵고, 웹 서비스 내에서만 이용가능하다네!

---

### 7.1.2 통신 상대를 확인하지 않기 때문에 위장 가능

- 누구나 리퀘스트 할 수 있다
  - 상대가 누구인지 확인하는 처리가 없음
  - 또한 누가 보냈든 서버에 오기만 하면 리퀘스트를 날림
  - 종류별
    - 리퀘스트를 보낸 곳의 웹 서버가 위장한 웹 서버일 수 있음
    - 리스폰스를 반환할 클라이언트가 위장한 클라이언트 일 수 있음
    - 통신하고 있는 상대가 접근이 허가된 상대인지 아닌지 확인 불가
    - 어디의 누가 리퀘스트 했는지 알 수 없음
    - 의미 없는 리퀘스트 수신(DDOS)
- 상대를 확인하는 증명서
  - HTTP 불가, SSL은 가능!!
  - 암호화 + 증명서까지 제공
    - 클라이언트는 통신을 개시할 때에 서버의 증명서를 확인
    - 응 내가 액세스하고 있는 건 분명히 A사의 웹 사이트의 서버인 것 같아
      - 신뢰할 수 있는 제 3자란, 기본적으로 사회에서 인정된 기업이나 조직을 가리킵니다.

---

### 7.1.3 완전성을 증명할 수 없기 때문에 변조 가능

완전성이란 **정보의 정확성**

- 수신한 정보가 다를지도 모른다

  - 리퀘스트나 리스폰스가 발신 된 후에 상대가 수신할 떄까지의 **변조되도 모름**
  - 리퀘스트나 리스폰스를 빼앗아 변조하는 공격을 **중간자 공격(Man-in-the-Middle 공격)** 이라고 함

- 변조를 방지하려면?

  - MD5, SHA-1 등의 해시 값을 확인하는 방법
  - 파일의 디지털 서명을 확인하는 방법

  - ex) 파일 다운로드 서비스
    - PGP(Pretty Good Privacy)에 의한 서명 
      - 파일을 작성했단느 증명을 위한 서명
    - MD5에 의한 해시 값을 제공
      - https://ko.wikipedia.org/wiki/MD5
      - 단방향성 함수에 의한 해시 값
    -  => 유저 자신이 다운로드 받은 파일을 토대로 검사해야함.(비용 발생)

그러나 문제점을 확실히 방지하려면 **HTTPS** 사용하면 됩니다! 뒤를 부탁해!

