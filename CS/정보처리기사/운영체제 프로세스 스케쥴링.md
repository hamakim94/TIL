## 프로세스

실행중에 있는 프로그램
프로세스 내부에는 최소 하나의 스레드(thread), 실제로는 thread 단위로 스케쥴링
하드디스크 프로그램 실행 -> 메모리 할당 -> 할당된 메모리 공간으로 바이너리 코드 -> 프로세스!



## 프로세스의 메모리 구조

code 영역 : 프로그램을 실행시키는 실행 파일 내의 명령어들
data 영역 : 전역번수, static 변수 할당
heap 영역 : 동적 할당을 위한 메모리 영역
stack 영역 : 지역변수, 함수 호출 시 전달되는 인자(파라미터)를 위한 메모리 영역



## 프로세스 스케쥴링

### 정의

CPU 할당을 위해 프로세스들 사이의 우선 순위를 부여, 관리하는 것
할당 대상에 따라 장기, 중기, 단기 스케쥴링이 있다

### 종류

비선점형(중단 불가) 스케쥴링 : **일괄 처리** 중심(FIFO, SJF, HRN) 
**CPU 반환 시까지 다른 프로세스는 CPU 점유가 불가능**

선점혐(중단 가능) 스케쥴링 : **실시간 처리** 중심(RR, SRT, MFQ)
**우선순위가 높은 다른 프로세스가 현재 프로세스 중단, CPU 점유**



## 선점형 스케쥴링

### RR(Round Robin)

동일한 Time Slice를 사용하는 시분할 처리 시스템에 효과적으로 사용
    (중간중간 처리하는 것을 바꿈)
Time Slice 단위로 프로세스를 처리, 계산 방식은 FIFO와 동일
Time SLice가 실행 시간보다 크면 FIFO와 동일한 결과



### SRT(Shortest Remaining Time)

작업이 끝나지 않은 프로세스의 남아 있는 실행 시간이 가장 작은 프로세스를 먼저 실행하는 방식
SJF 기법을 선점 형태로 변경한 기법, 점유 시간이 길어도 중요한 프로세스를 먼저 할당 가능



### MFQ(Multilevel Feedback Queue)

짧은 작업이나 입출력 위주의 프로세스에 우선순위를 부여하기 위해 개발된 방식
우선순위가 있는 각 큐(대기 리스트)가 있으며 큐마다 Time Slice가 존재
낮은 큐일수록 Time Slice는 커지며, CPU 사용을 마친 프로세스는 낮은 큐로 이동
맨 마지막 단계의 큐는 RR 사용.





## 비선점형 스케쥴링

### FIFO(First-in-First-Out)

프로세스가 도착(입력)한 순서대로 처리
알고리즘이 가장 단순하지만, 평균 반환 시간이 길다

- 평균 반환 시간 = 평균 실행 시간 + 평균 대기 시간
- 평균 실행 시간 = 총 실행시간 / 프로세스 개수
- 평균 대기 시간 = 총 대기시간 / 프로세스 개수
- 대기 시간 = 앞선 프로세스들의 실행시간 합계 - 도착 시간

### SJF(Short-Job-First)

실행 시간이 가장 짧은 프로세스 순으로 처리
실행 시간이 긴 작업 -> 무한 대기(기아) 상태 발생 가능
짧은 시간의 작업이 많을 때 FIFO보다 평균 대기 시간이 적다.



### HRN(Highest Response-ratio Next)

FIFO와 SJF 단점을 보완하기 위해 개발
대기 시간이 긴 프로세스의 우선 순위를 높여서
긴 작업과 짧은 작업간의 지나친 불평등을 해소 할 수 있다.
HRN 우선순위 공식에 계산 결과가 큰 작업에 높은 우선순위를 부여(Aging 한다)

- 우선순위 공식 : (대기 시간 + 실행 시간) / 실행 시간





