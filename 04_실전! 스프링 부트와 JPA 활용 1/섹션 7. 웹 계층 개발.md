# 홈 화면과 레이아웃



타임리프 페이지 -> docs -> layout 사용하기

include형과 계층형!



## 회원 등록

javax @Valid 쓰면 내가 만들었떤 @NotEmpty, 등 필드에 대한 설정을 검증이 가능하다.



BindingResult class를 파라미터에 넣으면, 오류 났을 때 어떻게 할 수 있을 지 정할 수 있다

타임리프 : 스프링이랑 잘 연동 -> 할 수 있는 기능이 많다



왜 멤버 엔티티 딱 안 넣어? 비슷하잖아!

- 벨리데이션, 코드 지저분,
- 컨트롤러에서 화면에서 넘어올 떄 validation이랑, 내부 logic validiation이 다를 수 있다.!
  - 필요한 데이터만 따로 객체 만들어서 하는걸 추천한다!



## 회원 목록 조회

단순

타임리프 장점이 많다~

- ? 옵션 -> nullable



**JPA : 엔티티 자체는, 최대한 순수, 비즈니스 로직! 무조건!**

화면에 맞는 로직  XXXXX, 이럴 떈 폼 객체나, DTO 사용해요!



**API 만들 떈 엔티티를 절대로 그대로 넘기면 안 돼**

- API : 스팩
- 엔티티에 필드 하나 추가하면..!! -> API 스펙 자체가 변해버림..!!
- SSR은 ㄱㅊ은 편.
- 하지만 화면용 DTO를 만드는걸 추천하는 편!



## 상품 등록

잘 안 되는 부분들이 있었다.

id가 꼭 필요한데. id 필드가 없어서 생긴 문제 같기도..?

**사실 set을 너무 잘 쓰면 안 돼, static 생성자 메서드를 통해 바로 만드는게 좋다**



**Transaction Readonly 문제점이 있다**

- DB에 반영이 잘 안 된다 -> 트랜잭션 관리 문제라고 생각해보기
- service나 repository에서 트랜잭션 어노테이션을 본다고 생각



## 상품 목록



## 상품 수정

서버 쪽에서

수정할 떄 , 유저가 이 객체에 대한 접근 권한이 있는지 확인해봐야 한다.!!

- item의 id가 null이 아니니까
  - merge를 사용한다(JPA)
  - 사실 실무에서 쓸 일이 없다!
  - 





